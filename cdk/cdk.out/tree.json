{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.212.0"},"children":{"EhsShowchoirStack":{"id":"EhsShowchoirStack","path":"EhsShowchoirStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.212.0"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"EhsShowchoirStack/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"ehsshowchoir-website-636865837466-us-east-2","lifecycleConfiguration":{"rules":[{"id":"DeleteOldVersions","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"EhsShowchoirStack/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"EhsShowchoirStack/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.212.0","metadata":[]},"children":{"Default":{"id":"Default","path":"EhsShowchoirStack/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"EhsShowchoirStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.212.0"},"children":{"Staging":{"id":"Staging","path":"EhsShowchoirStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.212.0"}},"Role":{"id":"Role","path":"EhsShowchoirStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}},"Handler":{"id":"Handler","path":"EhsShowchoirStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}},"InvoicesBucket":{"id":"InvoicesBucket","path":"EhsShowchoirStack/InvoicesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/InvoicesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"ehsshowchoir-invoices-636865837466-us-east-2","lifecycleConfiguration":{"rules":[{"id":"ArchiveOldInvoices","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":90},{"storageClass":"GLACIER","transitionInDays":365}]},{"expirationInDays":2555,"id":"DeleteVeryOldInvoices","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"versioningConfiguration":{"status":"Enabled"}}}}}},"StudentsTable":{"id":"StudentsTable","path":"EhsShowchoirStack/StudentsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/StudentsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"parentEmail","attributeType":"S"},{"attributeName":"status","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"ParentEmailIndex","keySchema":[{"attributeName":"parentEmail","keyType":"HASH"}],"projection":{"projectionType":"ALL"}},{"indexName":"StatusIndex","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"ehsshowchoir-students"}}},"ScalingRole":{"id":"ScalingRole","path":"EhsShowchoirStack/StudentsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"PaymentHistoryTable":{"id":"PaymentHistoryTable","path":"EhsShowchoirStack/PaymentHistoryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/PaymentHistoryTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"transaction_date","attributeType":"S"},{"attributeName":"student_id","attributeType":"S"},{"attributeName":"parent_email","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"StudentIdIndex","keySchema":[{"attributeName":"student_id","keyType":"HASH"},{"attributeName":"transaction_date","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"ParentEmailIndex","keySchema":[{"attributeName":"parent_email","keyType":"HASH"},{"attributeName":"transaction_date","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"transaction_date","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"ehsshowchoir-payment-history"}}},"ScalingRole":{"id":"ScalingRole","path":"EhsShowchoirStack/PaymentHistoryTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"InvoiceLogTable":{"id":"InvoiceLogTable","path":"EhsShowchoirStack/InvoiceLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/InvoiceLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"tableName":"ehsshowchoir-invoice-log","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"EhsShowchoirStack/InvoiceLogTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"ParentStudentTable":{"id":"ParentStudentTable","path":"EhsShowchoirStack/ParentStudentTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/ParentStudentTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"parent_email","attributeType":"S"},{"attributeName":"student_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"parent_email","keyType":"HASH"},{"attributeName":"student_id","keyType":"RANGE"}],"tableName":"ehsshowchoir-parent-student-relationships"}}},"ScalingRole":{"id":"ScalingRole","path":"EhsShowchoirStack/ParentStudentTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"UserPool":{"id":"UserPool","path":"EhsShowchoirStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false,"inviteMessageTemplate":{"emailMessage":"Hello {username}, your temporary password is {####}","emailSubject":"Welcome to Edgewood Show Choir Payment Portal"}},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"Your verification code is {####}","emailVerificationSubject":"Verify your email for Edgewood Show Choir","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"ehsshowchoir-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"Your verification code is {####}","emailSubject":"Verify your email for Edgewood Show Choir","smsMessage":"The verification code to your new account is {####}"}}}},"CognitoDomain":{"id":"CognitoDomain","path":"EhsShowchoirStack/UserPool/CognitoDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/UserPool/CognitoDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"ehsshowchoir-auth","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"EhsShowchoirStack/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["https://edgewoodshowchoirpayments.org/auth/callback","https://edgewoodshowchoirpayments.org/","http://localhost:3000/auth/callback","http://localhost:3000/"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_ADMIN_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"logoutUrLs":["https://edgewoodshowchoirpayments.org/auth/logout","https://edgewoodshowchoirpayments.org/","http://localhost:3000/auth/logout","http://localhost:3000/"],"readAttributes":["email","email_verified","family_name","given_name"],"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"},"writeAttributes":["email","family_name","given_name"]}}}}},"LambdaRole":{"id":"LambdaRole","path":"EhsShowchoirStack/LambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.212.0","metadata":[]},"children":{"ImportLambdaRole":{"id":"ImportLambdaRole","path":"EhsShowchoirStack/LambdaRole/ImportLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/LambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["InvoiceLogTable6D0E71B2","Arn"]},{"Fn::GetAtt":["ParentStudentTable1F3E1FD1","Arn"]},{"Fn::GetAtt":["PaymentHistoryTableB1149501","Arn"]},{"Fn::GetAtt":["StudentsTableDAB56938","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PaymentHistoryTableB1149501","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["StudentsTableDAB56938","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"}},{"policyName":"S3Access","policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:GetSignedUrl","s3:PutObject"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["InvoicesBucket57FCB164","Arn"]},"/*"]]}}],"Version":"2012-10-17"}},{"policyName":"SESAccess","policyDocument":{"Statement":[{"Action":["ses:SendBulkTemplatedEmail","ses:SendEmail","ses:SendRawEmail"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}},{"policyName":"CognitoAccess","policyDocument":{"Statement":[{"Action":["cognito-idp:AdminAddUserToGroup","cognito-idp:AdminGetUser","cognito-idp:AdminListGroupsForUser","cognito-idp:AdminRemoveUserFromGroup"],"Effect":"Allow","Resource":{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]}}],"Version":"2012-10-17"}}]}}}}},"ApiHandler":{"id":"ApiHandler","path":"EhsShowchoirStack/ApiHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.212.0","metadata":[]},"children":{"Code":{"id":"Code","path":"EhsShowchoirStack/ApiHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.212.0"},"children":{"Stage":{"id":"Stage","path":"EhsShowchoirStack/ApiHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.212.0"}},"AssetBucket":{"id":"AssetBucket","path":"EhsShowchoirStack/ApiHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.212.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/ApiHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-636865837466-us-east-2","s3Key":"b4b3d5272187ddeb70283e6ecf10396ff94b19d337a55bf78af3757743b96d5d.zip"},"description":"Main API handler for EHS Show Choir","environment":{"variables":{"STUDENTS_TABLE":{"Ref":"StudentsTableDAB56938"},"PAYMENT_HISTORY_TABLE":{"Ref":"PaymentHistoryTableB1149501"},"INVOICE_LOG_TABLE":{"Ref":"InvoiceLogTable6D0E71B2"},"PARENT_STUDENT_TABLE":{"Ref":"ParentStudentTable1F3E1FD1"},"INVOICES_BUCKET":{"Ref":"InvoicesBucket57FCB164"},"USER_POOL_ID":{"Ref":"UserPool6BA7E5F2"},"FROM_EMAIL":"treasurer@edgewoodshowchoirpayments.org","DOMAIN_NAME":"edgewoodshowchoirpayments.org","AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"LogRetention":{"id":"LogRetention","path":"EhsShowchoirStack/ApiHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.212.0"},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/ApiHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}},"LogGroup":{"id":"LogGroup","path":"EhsShowchoirStack/ApiHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.212.0"},"children":{"Stage":{"id":"Stage","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.212.0"}},"AssetBucket":{"id":"AssetBucket","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.212.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.212.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}},"BulkInvoiceHandler":{"id":"BulkInvoiceHandler","path":"EhsShowchoirStack/BulkInvoiceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.212.0","metadata":[]},"children":{"Code":{"id":"Code","path":"EhsShowchoirStack/BulkInvoiceHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.212.0"},"children":{"Stage":{"id":"Stage","path":"EhsShowchoirStack/BulkInvoiceHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.212.0"}},"AssetBucket":{"id":"AssetBucket","path":"EhsShowchoirStack/BulkInvoiceHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.212.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/BulkInvoiceHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-636865837466-us-east-2","s3Key":"b4b3d5272187ddeb70283e6ecf10396ff94b19d337a55bf78af3757743b96d5d.zip"},"description":"Bulk invoice processing for EHS Show Choir","environment":{"variables":{"STUDENTS_TABLE":{"Ref":"StudentsTableDAB56938"},"PAYMENT_HISTORY_TABLE":{"Ref":"PaymentHistoryTableB1149501"},"INVOICE_LOG_TABLE":{"Ref":"InvoiceLogTable6D0E71B2"},"PARENT_STUDENT_TABLE":{"Ref":"ParentStudentTable1F3E1FD1"},"INVOICES_BUCKET":{"Ref":"InvoicesBucket57FCB164"},"FROM_EMAIL":"treasurer@edgewoodshowchoirpayments.org","DOMAIN_NAME":"edgewoodshowchoirpayments.org","AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"bulk-invoice-handler.bulkInvoiceHandler","memorySize":1024,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"nodejs18.x","timeout":900}}},"LogRetention":{"id":"LogRetention","path":"EhsShowchoirStack/BulkInvoiceHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.212.0"},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/BulkInvoiceHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}},"LogGroup":{"id":"LogGroup","path":"EhsShowchoirStack/BulkInvoiceHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.212.0","metadata":[]}}}},"Api":{"id":"Api","path":"EhsShowchoirStack/Api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"EHS Show Choir Payment System API","name":"ehsshowchoir-api"}}},"Deployment":{"id":"Deployment","path":"EhsShowchoirStack/Api/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"EHS Show Choir Payment System API","restApiId":{"Ref":"ApiF70053CD"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"EhsShowchoirStack/Api/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ApiDeploymentB17BE62D87509517dab5fe5f373a418bfc97561c"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO"}],"restApiId":{"Ref":"ApiF70053CD"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"EhsShowchoirStack/Api/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"Default":{"id":"Default","path":"EhsShowchoirStack/Api/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.212.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Fn::GetAtt":["ApiF70053CD","RootResourceId"]},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"health":{"id":"health","path":"EhsShowchoirStack/Api/Default/health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ApiF70053CD","RootResourceId"]},"pathPart":"health","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/health/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/health/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"Apihealth5CB7A415"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/health/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..health":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..health","path":"EhsShowchoirStack/Api/Default/health/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/health"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..health":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..health","path":"EhsShowchoirStack/Api/Default/health/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/health"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/health/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"Apihealth5CB7A415"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}},"students":{"id":"students","path":"EhsShowchoirStack/Api/Default/students","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ApiF70053CD","RootResourceId"]},"pathPart":"students","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/students/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApistudentsD99697EF"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/students/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..students":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..students","path":"EhsShowchoirStack/Api/Default/students/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..students","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/students"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students","path":"EhsShowchoirStack/Api/Default/students/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/students"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsD99697EF"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"POST":{"id":"POST","path":"EhsShowchoirStack/Api/Default/students/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.POST..students":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.POST..students","path":"EhsShowchoirStack/Api/Default/students/POST/ApiPermission.EhsShowchoirStackApi62088C04.POST..students","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/POST/students"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..students":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..students","path":"EhsShowchoirStack/Api/Default/students/POST/ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..students","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/POST/students"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsD99697EF"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"{studentId}":{"id":"{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApistudentsD99697EF"},"pathPart":"{studentId}","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/students/{studentId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApistudentsstudentIdE5FA2788"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/students/{studentId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/students/*"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/students/*"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsstudentIdE5FA2788"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"PUT":{"id":"PUT","path":"EhsShowchoirStack/Api/Default/students/{studentId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.PUT..students.{studentId}":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.PUT..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/PUT/ApiPermission.EhsShowchoirStackApi62088C04.PUT..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/PUT/students/*"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.PUT..students.{studentId}":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.PUT..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/PUT/ApiPermission.Test.EhsShowchoirStackApi62088C04.PUT..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/PUT/students/*"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsstudentIdE5FA2788"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"DELETE":{"id":"DELETE","path":"EhsShowchoirStack/Api/Default/students/{studentId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/DELETE/ApiPermission.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/DELETE/students/*"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}","path":"EhsShowchoirStack/Api/Default/students/{studentId}/DELETE/ApiPermission.Test.EhsShowchoirStackApi62088C04.DELETE..students.{studentId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/DELETE/students/*"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsstudentIdE5FA2788"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"invoice-data":{"id":"invoice-data","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApistudentsstudentIdE5FA2788"},"pathPart":"invoice-data","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApistudentsstudentIdinvoicedataE970C213"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/students/*/invoice-data"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.invoice-data","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/students/*/invoice-data"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/invoice-data/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsstudentIdinvoicedataE970C213"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}},"payment-history":{"id":"payment-history","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApistudentsstudentIdE5FA2788"},"pathPart":"payment-history","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApistudentsstudentIdpaymenthistoryE7DAFFCF"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/students/*/payment-history"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..students.{studentId}.payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/students/*/payment-history"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/students/{studentId}/payment-history/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApistudentsstudentIdpaymenthistoryE7DAFFCF"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}}}}}},"invoices":{"id":"invoices","path":"EhsShowchoirStack/Api/Default/invoices","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ApiF70053CD","RootResourceId"]},"pathPart":"invoices","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/invoices/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApiinvoicesAD9AA2E2"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"bulk-send":{"id":"bulk-send","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApiinvoicesAD9AA2E2"},"pathPart":"bulk-send","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ApiinvoicesbulksendA1FBBE63"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"POST":{"id":"POST","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/POST/ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BulkInvoiceHandler55959176","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/POST/invoices/bulk-send"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/POST/ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.bulk-send","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BulkInvoiceHandler55959176","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/POST/invoices/bulk-send"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/bulk-send/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BulkInvoiceHandler55959176","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"ApiinvoicesbulksendA1FBBE63"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}},"generate-individual":{"id":"generate-individual","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApiinvoicesAD9AA2E2"},"pathPart":"generate-individual","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"Apiinvoicesgenerateindividual84E422D5"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"POST":{"id":"POST","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/POST/ApiPermission.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/POST/invoices/generate-individual"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/POST/ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..invoices.generate-individual","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/POST/invoices/generate-individual"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/invoices/generate-individual/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"Apiinvoicesgenerateindividual84E422D5"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}}}},"payment-history":{"id":"payment-history","path":"EhsShowchoirStack/Api/Default/payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/payment-history/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ApiF70053CD","RootResourceId"]},"pathPart":"payment-history","restApiId":{"Ref":"ApiF70053CD"}}}},"OPTIONS":{"id":"OPTIONS","path":"EhsShowchoirStack/Api/Default/payment-history/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/payment-history/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'https://edgewoodshowchoirpayments.org'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.edgewoodshowchoirpayments.org\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"Apipaymenthistory370FB0AD"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"GET":{"id":"GET","path":"EhsShowchoirStack/Api/Default/payment-history/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.GET..payment-history":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.GET..payment-history","path":"EhsShowchoirStack/Api/Default/payment-history/GET/ApiPermission.EhsShowchoirStackApi62088C04.GET..payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/GET/payment-history"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..payment-history":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..payment-history","path":"EhsShowchoirStack/Api/Default/payment-history/GET/ApiPermission.Test.EhsShowchoirStackApi62088C04.GET..payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/GET/payment-history"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/payment-history/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"Apipaymenthistory370FB0AD"},"restApiId":{"Ref":"ApiF70053CD"}}}}}},"POST":{"id":"POST","path":"EhsShowchoirStack/Api/Default/payment-history/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.212.0","metadata":[]},"children":{"ApiPermission.EhsShowchoirStackApi62088C04.POST..payment-history":{"id":"ApiPermission.EhsShowchoirStackApi62088C04.POST..payment-history","path":"EhsShowchoirStack/Api/Default/payment-history/POST/ApiPermission.EhsShowchoirStackApi62088C04.POST..payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/POST/payment-history"]]}}}},"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..payment-history":{"id":"ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..payment-history","path":"EhsShowchoirStack/Api/Default/payment-history/POST/ApiPermission.Test.EhsShowchoirStackApi62088C04.POST..payment-history","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:636865837466:",{"Ref":"ApiF70053CD"},"/test-invoke-stage/POST/payment-history"]]}}}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Api/Default/payment-history/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"AuthorizerBD825682"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiHandler5E7490E8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"Apipaymenthistory370FB0AD"},"restApiId":{"Ref":"ApiF70053CD"}}}}}}}}}}}},"Authorizer":{"id":"Authorizer","path":"EhsShowchoirStack/Authorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Authorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"EhsShowchoirStackAuthorizerBB627581","providerArns":[{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]}],"restApiId":{"Ref":"ApiF70053CD"},"type":"COGNITO_USER_POOLS"}}}}},"Certificate":{"id":"Certificate","path":"EhsShowchoirStack/Certificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/Certificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"edgewoodshowchoirpayments.org","subjectAlternativeNames":["www.edgewoodshowchoirpayments.org"],"tags":[{"key":"Name","value":"EhsShowchoirStack/Certificate"}],"validationMethod":"DNS"}}}}},"OAI":{"id":"OAI","path":"EhsShowchoirStack/OAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/OAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"OAI for edgewoodshowchoirpayments.org"}}}}}},"Distribution":{"id":"Distribution","path":"EhsShowchoirStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.212.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"EhsShowchoirStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"EhsShowchoirStack/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"EhsShowchoirStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"EhsShowchoirStackDistributionOrigin1EE09CE1D","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Ref":"ApiF70053CD"},".execute-api.us-east-2.",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/"]]}]}]},"id":"EhsShowchoirStackDistributionOrigin288966B75","originPath":{"Fn::Join":["",["/",{"Fn::Select":[3,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Ref":"ApiF70053CD"},".execute-api.us-east-2.",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"ApiDeploymentStageprod3EB9684E"},"/"]]}]}]}]]},"customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"EhsShowchoirStackDistributionOrigin1EE09CE1D","allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":"67f7725c-6f97-4210-82d7-5512b31e9d03","viewerProtocolPolicy":"redirect-to-https"},"aliases":["edgewoodshowchoirpayments.org","www.edgewoodshowchoirpayments.org"],"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"EhsShowchoirStackDistributionOrigin288966B75","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"}],"comment":"EHS Show Choir Payment System Distribution","customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100","viewerCertificate":{"acmCertificateArn":{"Ref":"Certificate4E7ABB08"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"EmailIdentity":{"id":"EmailIdentity","path":"EhsShowchoirStack/EmailIdentity","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.EmailIdentity","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/EmailIdentity/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnEmailIdentity","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::EmailIdentity","aws:cdk:cloudformation:props":{"emailIdentity":"edgewoodshowchoirpayments.org"}}}}},"ConfigurationSet":{"id":"ConfigurationSet","path":"EhsShowchoirStack/ConfigurationSet","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.ConfigurationSet","version":"2.212.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EhsShowchoirStack/ConfigurationSet/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnConfigurationSet","version":"2.212.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::ConfigurationSet","aws:cdk:cloudformation:props":{"name":"ehsshowchoir-emails"}}}}},"WebsiteBucketName":{"id":"WebsiteBucketName","path":"EhsShowchoirStack/WebsiteBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"InvoicesBucketName":{"id":"InvoicesBucketName","path":"EhsShowchoirStack/InvoicesBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"CloudFrontDomainName":{"id":"CloudFrontDomainName","path":"EhsShowchoirStack/CloudFrontDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"CloudFrontDistributionId":{"id":"CloudFrontDistributionId","path":"EhsShowchoirStack/CloudFrontDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"ApiUrl":{"id":"ApiUrl","path":"EhsShowchoirStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"UserPoolId":{"id":"UserPoolId","path":"EhsShowchoirStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"EhsShowchoirStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"CognitoDomain":{"id":"CognitoDomain","path":"EhsShowchoirStack/CognitoDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"CertificateArn":{"id":"CertificateArn","path":"EhsShowchoirStack/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"StudentsTableName":{"id":"StudentsTableName","path":"EhsShowchoirStack/StudentsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"PaymentHistoryTableName":{"id":"PaymentHistoryTableName","path":"EhsShowchoirStack/PaymentHistoryTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.212.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"EhsShowchoirStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"EhsShowchoirStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.212.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"EhsShowchoirStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.212.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"EhsShowchoirStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.212.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}